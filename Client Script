Client Script 1: u_sox onChange
Name: Update Critical Risk - SOX
Table: [Your table name]
UI Type: All
Type: onChange
Field name: u_sox
Active: true
javascriptfunction onChange(control, oldValue, newValue, isLoading, isTemplate) {
    if (isLoading || newValue == '') {
        return;
    }
    
    updateCriticalApplicationRisk();
}

function updateCriticalApplicationRisk() {
    // Get current values
    var sox = g_form.getValue('u_sox');
    var glba = g_form.getValue('u_glba');
    var sensitive = g_form.getValue('u_sensitive');
    var sensitiveCommercial = g_form.getValue('u_sensitive_commerical');
    
    // Convert to boolean
    var soxYes = (sox == 'Yes');
    var glbaYes = (glba != '0' && glba != '' && glba != null);
    var sensitiveYes = (sensitive != '0' && sensitive != '' && sensitive != null);
    var sensitiveCommercialYes = (sensitiveCommercial != '0' && sensitiveCommercial != '' && sensitiveCommercial != null);
    
    // Determine new value
    var newValue;
    
    if (!soxYes && !glbaYes && !sensitiveYes && !sensitiveCommercialYes) {
        newValue = 'No';
    } else if (glbaYes || sensitiveYes || sensitiveCommercialYes) {
        newValue = 'YesRBAC';
    } else if (soxYes) {
        newValue = 'Yes';
    }
    
    // Update if changed
    var currentValue = g_form.getValue('u_critical_application_risk');
    if (currentValue != newValue) {
        g_form.setValue('u_critical_application_risk', newValue);
    }
}

Client Script 2: u_glba onChange
Name: Update Critical Risk - GLBA
Table: [Your table name]
UI Type: All
Type: onChange
Field name: u_glba
Active: true
javascriptfunction onChange(control, oldValue, newValue, isLoading, isTemplate) {
    if (isLoading || newValue == '') {
        return;
    }
    
    updateCriticalApplicationRisk();
}

function updateCriticalApplicationRisk() {
    // Get current values
    var sox = g_form.getValue('u_sox');
    var glba = g_form.getValue('u_glba');
    var sensitive = g_form.getValue('u_sensitive');
    var sensitiveCommercial = g_form.getValue('u_sensitive_commerical');
    
    // Convert to boolean
    var soxYes = (sox == 'Yes');
    var glbaYes = (glba != '0' && glba != '' && glba != null);
    var sensitiveYes = (sensitive != '0' && sensitive != '' && sensitive != null);
    var sensitiveCommercialYes = (sensitiveCommercial != '0' && sensitiveCommercial != '' && sensitiveCommercial != null);
    
    // Determine new value
    var newValue;
    
    if (!soxYes && !glbaYes && !sensitiveYes && !sensitiveCommercialYes) {
        newValue = 'No';
    } else if (glbaYes || sensitiveYes || sensitiveCommercialYes) {
        newValue = 'YesRBAC';
    } else if (soxYes) {
        newValue = 'Yes';
    }
    
    // Update if changed
    var currentValue = g_form.getValue('u_critical_application_risk');
    if (currentValue != newValue) {
        g_form.setValue('u_critical_application_risk', newValue);
    }
}

Client Script 3: u_sensitive onChange
Name: Update Critical Risk - Sensitive
Table: [Your table name]
UI Type: All
Type: onChange
Field name: u_sensitive
Active: true
javascriptfunction onChange(control, oldValue, newValue, isLoading, isTemplate) {
    if (isLoading || newValue == '') {
        return;
    }
    
    updateCriticalApplicationRisk();
}

function updateCriticalApplicationRisk() {
    // Get current values
    var sox = g_form.getValue('u_sox');
    var glba = g_form.getValue('u_glba');
    var sensitive = g_form.getValue('u_sensitive');
    var sensitiveCommercial = g_form.getValue('u_sensitive_commerical');
    
    // Convert to boolean
    var soxYes = (sox == 'Yes');
    var glbaYes = (glba != '0' && glba != '' && glba != null);
    var sensitiveYes = (sensitive != '0' && sensitive != '' && sensitive != null);
    var sensitiveCommercialYes = (sensitiveCommercial != '0' && sensitiveCommercial != '' && sensitiveCommercial != null);
    
    // Determine new value
    var newValue;
    
    if (!soxYes && !glbaYes && !sensitiveYes && !sensitiveCommercialYes) {
        newValue = 'No';
    } else if (glbaYes || sensitiveYes || sensitiveCommercialYes) {
        newValue = 'YesRBAC';
    } else if (soxYes) {
        newValue = 'Yes';
    }
    
    // Update if changed
    var currentValue = g_form.getValue('u_critical_application_risk');
    if (currentValue != newValue) {
        g_form.setValue('u_critical_application_risk', newValue);
    }
}

Client Script 4: u_sensitive_commerical onChange
Name: Update Critical Risk - Sensitive Commercial
Table: [Your table name]
UI Type: All
Type: onChange
Field name: u_sensitive_commerical
Active: true
javascriptfunction onChange(control, oldValue, newValue, isLoading, isTemplate) {
    if (isLoading || newValue == '') {
        return;
    }
    
    updateCriticalApplicationRisk();
}

function updateCriticalApplicationRisk() {
    // Get current values
    var sox = g_form.getValue('u_sox');
    var glba = g_form.getValue('u_glba');
    var sensitive = g_form.getValue('u_sensitive');
    var sensitiveCommercial = g_form.getValue('u_sensitive_commerical');
    
    // Convert to boolean
    var soxYes = (sox == 'Yes');
    var glbaYes = (glba != '0' && glba != '' && glba != null);
    var sensitiveYes = (sensitive != '0' && sensitive != '' && sensitive != null);
    var sensitiveCommercialYes = (sensitiveCommercial != '0' && sensitiveCommercial != '' && sensitiveCommercial != null);
    
    // Determine new value
    var newValue;
    
    if (!soxYes && !glbaYes && !sensitiveYes && !sensitiveCommercialYes) {
        newValue = 'No';
    } else if (glbaYes || sensitiveYes || sensitiveCommercialYes) {
        newValue = 'YesRBAC';
    } else if (soxYes) {
        newValue = 'Yes';
    }
    
    // Update if changed
    var currentValue = g_form.getValue('u_critical_application_risk');
    if (currentValue != newValue) {
        g_form.setValue('u_critical_application_risk', newValue);
    }
}

